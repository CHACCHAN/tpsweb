import{L}from"./LoadingComponent-sCqGFqAI.js";import{T as I,_ as M}from"./FooterComponent-BboSP84j.js";import{_ as N,r as o,e as B,o as c,c as l,l as D,j as v,h as k,a as t,F as E,k as F,t as i,p as T,d as j}from"./app-BBkFCyAd.js";const d=r=>(T("data-v-2637cf96"),r=r(),j(),r),V={id:"backImage"},H={class:"container h-100"},S=d(()=>t("div",{class:"fw-bold text-light d-none d-md-block",style:{"text-shadow":"0 0 5px rgb(0, 0, 0)","font-size":"40px"}},"Pickup/ニュース",-1)),$={class:"card card-body mb-5 rounded-0",style:{background:"rgba(255, 255, 255, 0.8)",margin:"60px 0"}},z={class:"row mt-5"},R=d(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},[t("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})],-1)),q=d(()=>t("div",{class:"fs-5 mt-3"}," 更新する ",-1)),G=[R,q],J={key:0,class:"col-12 col-md-9"},K={class:"card card-body h-100 border-0 rounded-0 pt-0"},O=d(()=>t("div",{class:"border-start border-5 border-primary",style:{padding:"52px 0"}},[t("div",{class:"fs-1 fw-bold ms-5"},"Pickup/ニュース")],-1)),Q={class:"col-2"},U=["textContent"],W=d(()=>t("div",{class:"col-2 bg-success"},[t("div",{class:"fw-bold text-center text-light"},"Pickup")],-1)),X={class:"col-8"},Y=["onClick","textContent"],Z={key:1,class:"col-12 col-md-9"},tt={class:"d-flex align-items-center justify-content-start"},et=["textContent"],st={class:"card card-body rounded-0 border-0 p-2"},ot=["textContent"],nt=["textContent"],at={__name:"NewsView",setup(r){const h=location.protocol+"//"+location.host+"/tps-site/images/components/IconImage.png",u=o(!0),_=o(),p=o(),g=o(),m=o([]),n=o(!0),b=o(null),f=o(null),x=o(null);B(()=>{document.title="ニュース",P(),A(),y()});const y=async()=>{const e=w();await Promise.all([e])},C=async e=>{const a=e.target.innerHTML;e.target.disabled=!0,e.target.innerHTML=`
            <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        `;const s=w();await Promise.all([s]),e.target.innerHTML=a,e.target.disabled=!1},w=()=>new Promise((e,a)=>{fetch("/tps-site/get/pickup").then(s=>s.json()).then(s=>{m.value=s.responseData,u.value=!1,e()}).catch(s=>{console.log(s),u.value=!1,a(s)})}),P=()=>{fetch("/tps-site/get/env").then(e=>e.json()).then(e=>{_.value=e.ResponseData}).catch(e=>{console.log(e)})},A=()=>{fetch("/tps-site/auth/login/check").then(e=>e.json()).then(e=>{p.value=e.ResponseData,g.value=e.Adminstrator}).catch(e=>{console.log(e)})};return(e,a)=>(c(),l("div",V,[u.value?(c(),D(L,{key:0})):v("",!0),k(I,{APP_NAME:_.value,LoginFlag:p.value,Adminstrator:g.value,IconImage:h,style:{"padding-bottom":"60px"}},null,8,["APP_NAME","LoginFlag","Adminstrator"]),t("div",H,[S,t("div",$,[t("div",z,[t("div",{class:"col-3 d-none d-md-block"},[t("button",{type:"button",onClick:C,class:"card card-body fw-bold border-0 rounded-0 text-bg-dark d-flex align-items-center justify-content-center w-100",style:{padding:"50px 0"}},G)]),n.value?(c(),l("div",J,[t("div",K,[O,(c(!0),l(E,null,F(m.value,s=>(c(),l("div",{class:"row border-bottom py-2",key:s.id},[t("div",Q,[t("div",{class:"fw-bold text-center",textContent:i(s.created_at)},null,8,U)]),W,t("div",X,[t("div",{class:"fw-bold text-truncate",onClick:ct=>(n.value=!n.value,b.value=s.title,f.value=s.content,x.value=s.created_at),style:{cursor:"pointer"},textContent:i(s.title)},null,8,Y)])]))),128))])])):v("",!0),n.value?v("",!0):(c(),l("div",Z,[t("div",tt,[t("button",{type:"button",class:"btn btn-primary text-light py-1 rounded-pill me-2",onClick:a[0]||(a[0]=s=>n.value=!n.value)},"戻る"),t("div",{class:"fs-2 fw-bold",textContent:i(b.value)},null,8,et)]),t("div",st,[t("div",{class:"text-secondary text-end fw-bold",textContent:i(x.value)},null,8,ot),t("div",{textContent:i(f.value)},null,8,nt)])]))])])]),k(M,{APP_NAME:_.value,LoginFlag:p.value,Adminstrator:g.value,IconImage:h},null,8,["APP_NAME","LoginFlag","Adminstrator"])]))}},rt=N(at,[["__scopeId","data-v-2637cf96"]]);export{rt as default};
