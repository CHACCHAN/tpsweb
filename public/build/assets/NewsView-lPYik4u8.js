import{L}from"./LoadingComponent-kItDZcKL.js";import{T as I,_ as M}from"./FooterComponent-oQxBkkfR.js";import{_ as N,r as o,o as B,a as c,c as l,b as D,d as h,k as w,e as t,F as E,f as F,t as d,p as T,h as V}from"./app-2meV3LV7.js";const i=r=>(T("data-v-45dce7ed"),r=r(),V(),r),j={id:"backImage"},H={class:"container h-100"},S=i(()=>t("div",{class:"fw-bold text-light d-none d-md-block",style:{"text-shadow":"0 0 5px rgb(0, 0, 0)","font-size":"40px"}},"Pickup/ニュース",-1)),$={class:"card card-body mb-5 rounded-0",style:{background:"rgba(255, 255, 255, 0.8)",margin:"60px 0"}},z={class:"row mt-5"},R=i(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},[t("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})],-1)),q=i(()=>t("div",{class:"fs-5 mt-3"}," 更新する ",-1)),G=[R,q],J={key:0,class:"col-12 col-md-9",style:{height:"100vh"}},K={class:"card card-body h-100 border-0 rounded-0 pt-0"},O=i(()=>t("div",{class:"border-start border-5 border-primary",style:{padding:"52px 0"}},[t("div",{class:"fs-1 fw-bold ms-5"},"Pickup/ニュース")],-1)),Q={class:"col-2"},U=["textContent"],W=i(()=>t("div",{class:"col-2 bg-success"},[t("div",{class:"fw-bold text-center text-light"},"Pickup")],-1)),X={class:"col-8"},Y=["onClick","textContent"],Z={key:1,class:"col-12 col-md-9",style:{height:"100vh"}},tt={class:"d-flex align-items-center justify-content-start"},et=["textContent"],st={class:"card card-body rounded-0 border-0 p-2 h-50"},ot=["textContent"],nt=["textContent"],at={__name:"NewsView",setup(r){const p=location.protocol+"//"+location.host+"/tps-site/images/components/IconImage.png",v=o(!0),u=o(),_=o(),g=o(),m=o([]),n=o(!0),b=o(null),f=o(null),x=o(null);B(()=>{document.title="ニュース",P(),A(),k()});const k=async()=>{const e=y();await Promise.all([e])},C=async e=>{const a=e.target.innerHTML;e.target.disabled=!0,e.target.innerHTML=`
            <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        `;const s=y();await Promise.all([s]),e.target.innerHTML=a,e.target.disabled=!1},y=()=>new Promise((e,a)=>{fetch("/tps-site/get/pickup").then(s=>s.json()).then(s=>{m.value=s.responseData,v.value=!1,e()}).catch(s=>{console.log(s),a(s)})}),P=()=>{fetch("/tps-site/get/env").then(e=>e.json()).then(e=>{u.value=e.ResponseData}).catch(e=>{console.log(e)})},A=()=>{fetch("/tps-site/auth/login/check").then(e=>e.json()).then(e=>{_.value=e.ResponseData,g.value=e.Adminstrator}).catch(e=>{console.log(e)})};return(e,a)=>(c(),l("div",j,[v.value?(c(),D(L,{key:0})):h("",!0),w(I,{APP_NAME:u.value,LoginFlag:_.value,Adminstrator:g.value,IconImage:p,style:{"padding-bottom":"60px"}},null,8,["APP_NAME","LoginFlag","Adminstrator"]),t("div",H,[S,t("div",$,[t("div",z,[t("div",{class:"col-3 d-none d-md-block"},[t("button",{type:"button",onClick:C,class:"card card-body fw-bold border-0 rounded-0 text-bg-dark d-flex align-items-center justify-content-center w-100",style:{padding:"50px 0"}},G)]),n.value?(c(),l("div",J,[t("div",K,[O,(c(!0),l(E,null,F(m.value,s=>(c(),l("div",{class:"row border-bottom py-2",key:s.id},[t("div",Q,[t("div",{class:"fw-bold text-center",textContent:d(s.created_at)},null,8,U)]),W,t("div",X,[t("div",{class:"fw-bold text-truncate",onClick:ct=>(n.value=!n.value,b.value=s.title,f.value=s.content,x.value=s.created_at),style:{cursor:"pointer"},textContent:d(s.title)},null,8,Y)])]))),128))])])):h("",!0),n.value?h("",!0):(c(),l("div",Z,[t("div",tt,[t("button",{type:"button",class:"btn btn-primary text-light py-1 rounded-pill me-2",onClick:a[0]||(a[0]=s=>n.value=!n.value)},"戻る"),t("div",{class:"fs-2 fw-bold",textContent:d(b.value)},null,8,et)]),t("div",st,[t("div",{class:"text-secondary text-end fw-bold",textContent:d(x.value)},null,8,ot),t("div",{textContent:d(f.value)},null,8,nt)])]))])])]),w(M,{APP_NAME:u.value,LoginFlag:_.value,Adminstrator:g.value,IconImage:p},null,8,["APP_NAME","LoginFlag","Adminstrator"])]))}},rt=N(at,[["__scopeId","data-v-45dce7ed"]]);export{rt as default};
